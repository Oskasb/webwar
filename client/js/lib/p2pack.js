webpackJsonp([12],{0:function(a,b,c){a.exports=c(418)},418:function(a,b,c){if(a.exports={P2Component:c(419),P2System:c(420)},"undefined"!=typeof window)for(var d in a.exports)window.goo[d]=a.exports[d]},419:function(a,b,c){function d(a){e.apply(this,arguments),this.type="P2Component",f.copyOptions(this,a,{mass:0,linearDamping:0,angularDamping:0,shapes:[],scale:1,offsetX:0,offsetY:0,offsetZ:0,offsetAngleX:0,offsetAngleY:0,offsetAngleZ:0})}var e=c(20),f=c(99);d.prototype=Object.create(e.prototype),d.prototype.constructor=d,a.exports=d},420:function(a,b,c){function d(a){f.call(this,"P2System",["P2Component","TransformComponent"]),a=a||{},this.physicsWorld=new p2.World({gravity:a.gravity||[0,-9.82]}),this.stepFrequency=a.stepFrequency||60}function e(a,b){var c=b.body.position,d=b.scale;a.transform.translation.setDirect(c[0]*d,c[1]*d,0),a.transform.rotation.fromAngles(b.offsetAngleX,b.offsetAngleY,b.offsetAngleZ+b.body.angle),a.setUpdated()}var f=c(42);d.prototype=Object.create(f.prototype),d.prototype.constructor=d,d.prototype.inserted=function(a){for(var b=a.p2Component,c=a.transformComponent,d=new p2.Body({mass:b.mass,damping:b.damping,angularDamping:b.angularDamping}),d=b.body=new p2.Body({mass:b.mass,position:[c.transform.translation.x,c.transform.translation.y]}),f=0;f<b.shapes.length;f++){var g,h=b.shapes[f];switch(h.type){case"box":g=new p2.Rectangle(h.width,h.height);break;case"circle":g=new p2.Circle(h.radius);break;case"plane":g=new p2.Plane;break;default:throw new Error("p2 shape '"+h.type+"' not recognized")}d.addShape(g,h.offset,h.angle)}b.body=d,e(c,b),this.physicsWorld.addBody(d)},d.prototype.deleted=function(a){var b=a.p2Component;b&&this.physicsWorld.removeBody(b.body)},d.prototype.process=function(a){this.physicsWorld.step(1/this.stepFrequency);for(var b=0;b<a.length;b++){var c=a[b],d=c.p2Component;e(c.transformComponent,d)}},a.exports=d}});