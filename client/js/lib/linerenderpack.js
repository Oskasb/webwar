webpackJsonp([10],{0:function(a,b,c){a.exports=c(382)},382:function(a,b,c){if(a.exports={LineRenderer:c(383),LineRenderSystem:c(384)},"undefined"!=typeof window)for(var d in a.exports)window.goo[d]=a.exports[d]},383:function(a,b,c){function d(a){this.world=a,this._material=new e(d.COLORED_LINE_SHADER),this._meshData=new f(d.ATTRIBUTE_MAP,2*d.MAX_NUM_LINES),this._meshData.indexModes=["Lines"],this._positions=this._meshData.getAttributeBuffer("POSITION"),this._colors=this._meshData.getAttributeBuffer("RGB_COLOR"),this._renderObject={meshData:this._meshData,transform:new h,materials:[this._material]},this._rendering=!1,this._numRenderingLines=0,this._meshData.vertexCount=0,this._meshData.vertexData.setDataUsage("DynamicDraw")}var e=c(30),f=c(14),g=c(31),h=c(41);d.ATTRIBUTE_MAP={POSITION:f.createAttribute(3,"Float"),RGB_COLOR:f.createAttribute(3,"Float")},d.COLORED_LINE_SHADER={attributes:{vertexPosition:"POSITION",vertexColor:"RGB_COLOR"},uniforms:{viewProjectionMatrix:g.VIEW_PROJECTION_MATRIX},vshader:["attribute vec3 vertexPosition;","attribute vec3 vertexColor;","uniform mat4 viewProjectionMatrix;","varying vec3 color;","void main(void) {","gl_Position = viewProjectionMatrix * vec4(vertexPosition, 1.0);","color = vertexColor;","}"].join("\n"),fshader:["varying vec3 color;","void main(void)","{","gl_FragColor = vec4(color, 1.0);","}"].join("\n")},d.MAX_NUM_LINES=65536,d.prototype._updateVertexData=function(){(0!==this._numRenderingLines||0!==this._meshData.vertexCount)&&(this._meshData.vertexCount=2*Math.min(this._numRenderingLines,d.MAX_NUM_LINES),this._meshData.setAttributeDataUpdated("POSITION"),this._meshData.setAttributeDataUpdated("RGB_COLOR"))},d.prototype._clear=function(){this._numRenderingLines=0},d.prototype._manageRenderList=function(a){this._rendering||0===this._numRenderingLines?this._rendering&&0===this._numRenderingLines&&(a.splice(a.indexOf(this._renderObject),1),this._rendering=!1):(a.push(this._renderObject),this._rendering=!0)},d.prototype._remove=function(){this._meshData.destroy(this.world.gooRunner.renderer.context)},d.prototype._addLine=function(a,b,c){if(this._numRenderingLines>=d.MAX_NUM_LINES)return void console.warn("MAX_NUM_LINES has been exceeded in the LineRenderer.");for(var e=6*this._numRenderingLines,f=0;3>f;f++){var g=e+f,h=e+3+f;this._positions[g]=a.getComponent(f),this._positions[h]=b.getComponent(f),this._colors[g]=c.getComponent(f),this._colors[h]=c.getComponent(f)}this._numRenderingLines++},a.exports=d},384:function(a,b,c){function d(a){e.call(this,"LineRenderSystem",[]),this._lineRenderers=[],this.world=a,this._lineRenderers.push(new g(this.world)),this.camera=null,this.renderList=[],f.addListener("goo.setCurrentCamera",function(a){this.camera=a.camera}.bind(this))}var e=c(42),f=c(44),g=c(383),h=c(8);d.prototype=Object.create(e.prototype),d.prototype.constructor=d;var i=new h,j=new h,k=new h;d.axis=["x","y","z"],d.prototype.WHITE=new h(1,1,1),d.prototype.RED=new h(1,0,0),d.prototype.GREEN=new h(0,1,0),d.prototype.BLUE=new h(0,0,1),d.prototype.AQUA=new h(0,1,1),d.prototype.MAGENTA=new h(1,0,1),d.prototype.YELLOW=new h(1,1,0),d.prototype.BLACK=new h(0,0,0),d.prototype.drawLine=function(a,b,c){var d=this._lineRenderers[0];d._addLine(a,b,c)},d.prototype._drawAxisLine=function(a,b,c,e,f,g,h,i){var l=d.axis[c],m=d.axis[e],n=j.set(a);n[l]+=b[l]*f;var o=k.set(n);o[m]+=b[m]*g,void 0!==i&&(n.applyPostPoint(i),o.applyPostPoint(i)),this.drawLine(n,o,h)},d.prototype.drawAABox=function(a,b,c,d){for(var e=i.set(b).sub(a),f=0;3>f;f++){for(var g=0;3>g;g++)g!==f&&this._drawAxisLine(a,e,f,g,1,1,c,d);this._drawAxisLine(b,e,f,f,-1,1,c,d),this._drawAxisLine(a,e,f,f,1,-1,c,d)}},d.prototype.drawCross=function(a,b,c){c=c||.05;var d=i.set(a).addDirect(-c,0,-c),e=j.set(a).addDirect(c,0,c);this.drawLine(d,e,b),d=i.set(a).addDirect(c,0,-c),e=j.set(a).addDirect(-c,0,c),this.drawLine(d,e,b),d=i.set(a).addDirect(0,-c,0),e=j.set(a).addDirect(0,c,0),this.drawLine(d,e,b)},d.prototype.render=function(a){for(var b=0;b<this._lineRenderers.length;b++){var c=this._lineRenderers[b];c._updateVertexData(),c._manageRenderList(this.renderList),c._clear()}a.checkResize(this.camera),this.camera&&a.render(this.renderList,this.camera,null,null,!1)},d.prototype.clear=function(){for(var a=0;a<this._lineRenderers.length;a++){var b=this._lineRenderers[a];b._remove()}delete this._lineRenderers,this.world.gooRunner.renderer.clearShaderCache()},a.exports=d}});